#+TITLE: 软件版本管理
#+DATE: 2014-04-02

* 两种粗糙的自动在软件中加入版本方法
** 利用svn的tag
当使用svn来做版本控制，我们会为每一个新发布的版本打上tag。当构建系统编译这个版本
可以用一个脚本来预先从svn路径上截取出tag作为版本号，然后通过GCC传到程序内部。该程
序需要实现一个打印版本的函数，将GCC传给它的版本号打印出来。

** 利用Linux的ident功能
[[http://linux.die.net/man/1/ident][ident]] 可以搜索并打印二进制程序中的特定模式的关键词。我们在代码中手工加上版本号，
编译完成后，用ident + 程序就能查看手工指定的版本号。

上法很挫，一种改进方式是ident结合GCC，svn tag来自动生成版本号。这时候，我们需要用
到一个GCC的参数：
#+BEGIN_SRC sh
-D_MYIDENT
#+END_SRC
